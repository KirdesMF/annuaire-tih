import { pgTable, jsonb, boolean, varchar, text, timestamp, uuid, index, primaryKey } from 'drizzle-orm/pg-core';
import { sql } from 'drizzle-orm';
import { n } from './auth.server-CEln8Kin.mjs';
import { d } from './categories-BGVwlHfX.mjs';

const p = pgTable("companies", { id: uuid("id").primaryKey().defaultRandom(), status: varchar("status").$type().notNull().default("pending"), created_at: timestamp("created_at").notNull().defaultNow(), updated_at: timestamp("updated_at").notNull().defaultNow(), created_by: text("created_by").references(() => n.id, { onDelete: "cascade" }).notNull(), user_id: text("user_id").references(() => n.id, { onDelete: "cascade" }).notNull(), name: varchar("name", { length: 255 }).notNull().unique(), siret: varchar("siret", { length: 14 }).notNull(), business_owner: varchar("business_owner", { length: 255 }), description: varchar("description", { length: 1500 }), website: varchar("website", { length: 255 }), location: varchar("location", { length: 255 }), service_area: varchar("service_area", { length: 255 }), subdomain: varchar("subdomain", { length: 100 }), work_mode: varchar("work_mode").$type(), email: varchar("email", { length: 255 }), phone: varchar("phone", { length: 24 }), rqth: boolean("rqth").notNull().default(false), logo: jsonb("logo").$type(), gallery: jsonb("gallery").$type(), social_media: jsonb("social_media").$type().notNull().default({ facebook: "", calendly: "", linkedin: "", instagram: "" }) }, (t) => [index("company_search_index").using("gin", sql`to_tsvector('french', ${t.name} || ' ' || ${t.subdomain} || ' ' || ${t.description})`)]), h = ["remote", "hybrid", "onsite", "not_specified"], N = pgTable("company_categories", { company_id: uuid("company_id").notNull().references(() => p.id, { onDelete: "cascade" }), category_id: uuid("category_id").notNull().references(() => d.id, { onDelete: "cascade" }), created_at: timestamp("created_at").notNull().defaultNow() }, (t) => [primaryKey({ columns: [t.company_id, t.category_id] })]);

export { N, h, p };
//# sourceMappingURL=company-categories-Dsd3WCXy.mjs.map
