import*as e from"valibot";import{a as o}from"./auth.server-DtTByMvE.js";import{c as a}from"./index-8Htcofqc.js";import{createServerFn as p}from"@tanstack/start-client-core";import{getWebRequest as d}from"@tanstack/start-server-core";import"better-auth";import"better-auth/adapters/drizzle";import"better-auth/plugins";import"./auth-BsEI6_U5.js";import"drizzle-orm/pg-core";import"better-auth/react-start";import"resend";import"tiny-invariant";import"drizzle-orm/postgres-js";import"postgres";import"dotenv";const n=e.object({password:e.string(),newPassword:e.string()}),i=a("app_lib_api_users_mutations_update-user-password_ts--updateUserPasswordFn_createServerFn_handler","/_server",(r,s)=>m.__executeServer(r,s)),m=p({method:"POST"}).validator(r=>e.parse(n,{password:r.get("password"),newPassword:r.get("newPassword")})).handler(i,async({data:r})=>{const{password:s,newPassword:t}=r;await o.api.changePassword({body:{currentPassword:s,newPassword:t,revokeOtherSessions:!0},headers:d()?.headers})});export{i as updateUserPasswordFn_createServerFn_handler};
