import{d as e,l as r}from"./index-8Htcofqc.mjs";import{n as o}from"./categories-B1A9pQfz.mjs";import{_ as t}from"./companies-l5PKOmvG.mjs";import{d as m}from"./company-categories-CgBd9Wjc.mjs";import{c as a,f as i}from"../nitro/nitro.mjs";import"../_/main.mjs";import"node:events";import"node:buffer";import"node:stream";import"../_/server.mjs";import"node:path";import"./auth-BsEI6_U5.mjs";import"node:net";import"node:process";import"node:timers";import"node:async_hooks";import"node:url";import"node:stream/web";import"node:crypto";const s=e("app_lib_api_companies_queries_get-company-by-slug_ts--getCompanyBySlug_createServerFn_handler","/_server",((e,r)=>n.__executeServer(e,r))),n=a({method:"GET"}).validator((e=>e)).handler(s,(async({data:e})=>{try{const a=await r.select().from(t).where(i(t.slug,e)).then((e=>e[0])),s=await r.select().from(m).leftJoin(o,i(o.id,m.category_id)).where(i(m.company_id,a.id));return{...a,categories:s.map((e=>e.categories))}}catch(e){throw console.error(e),e}}));export{s as getCompanyBySlug_createServerFn_handler};
//# sourceMappingURL=get-company-by-slug-XRzyZGAU.mjs.map
