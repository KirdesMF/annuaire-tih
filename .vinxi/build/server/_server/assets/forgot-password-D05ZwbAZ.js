import{createFileRoute as t,lazyRouteComponent as a}from"@tanstack/react-router";import*as e from"valibot";import{a as s}from"./auth.server-DtTByMvE.js";import{c as m}from"./index-8Htcofqc.js";import{createServerFn as i}from"@tanstack/start-client-core";import{getWebRequest as p}from"@tanstack/start-server-core";import"better-auth";import"better-auth/adapters/drizzle";import"better-auth/plugins";import"./auth-BsEI6_U5.js";import"drizzle-orm/pg-core";import"better-auth/react-start";import"resend";import"tiny-invariant";import"drizzle-orm/postgres-js";import"postgres";import"dotenv";const n=()=>import("./forgot-password-CFdu79gJ.js"),c=e.object({email:e.pipe(e.string(),e.email("Veuillez entrer une adresse email valide"))}),d=m("app_routes_auth_forgot-password_tsx--forgotPasswordFn_createServerFn_handler","/_server",(r,o)=>l.__executeServer(r,o)),l=i({method:"POST"}).validator(r=>{const o=Object.fromEntries(r.entries());return e.parse(c,o)}).handler(d,async({data:r})=>{await s.api.forgetPassword({body:{email:r.email,redirectTo:"/reset-password"},headers:p()?.headers})}),f=t("/(auth)/forgot-password")({component:a(n,"component",()=>f.ssr)});export{d as forgotPasswordFn_createServerFn_handler};
