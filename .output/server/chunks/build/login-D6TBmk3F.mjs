import{p as e,t as o,c as s,j as t,L as r,N as a,V as n,Y as m,a1 as i,a0 as d,a2 as l,W as p,X as c,U as u}from"../nitro/nitro.mjs";import{m as x,l as h}from"./label-DSAYOjK5.mjs";import{E as b}from"./auth.server-DtTByMvE.mjs";import{d as f}from"./index-8Htcofqc.mjs";import{d as g}from"./cn-CR1u50KS.mjs";import"node:net";import"node:stream";import"node:events";import"node:process";import"node:buffer";import"node:timers";import"node:async_hooks";import"node:url";import"node:stream/web";import"node:crypto";import"../_/index.mjs";import"./auth-BsEI6_U5.mjs";import"../_/main.mjs";import"../_/server.mjs";import"node:path";const _=n({email:m(d(),l()),password:m(d(),i(8))}),w=f("app_routes_auth_login_tsx--loginFn_createServerFn_handler","/_server",((e,o)=>y.__executeServer(e,o))),y=s({method:"POST"}).validator((e=>a(_,e))).handler(w,(async({data:e})=>{console.log(e),await b.api.signInEmail({body:{email:e.email,password:e.password}})})),v=p("/(auth)/login")({component:c((()=>Promise.resolve().then((()=>S))),"component",(()=>v.ssr)),beforeLoad:async({context:e})=>{if(e.user)throw u({to:"/compte/entreprises"})}}),j=function(){const s=e(),{mutate:a,isPending:n}=o({mutationFn:g(y)});return t.jsxs("main",{className:"py-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Connexion"}),t.jsxs("div",{className:"max-w-lg mx-auto border border-gray-200 p-6 rounded-sm shadow-sm",children:[t.jsxs("form",{className:"flex flex-col gap-6",onSubmit:async function(e){e.preventDefault();const o=new FormData(e.target);a({data:{email:o.get("email"),password:o.get("password")}},{onSuccess:async()=>{s.navigate({to:"/compte/entreprises"})}})},children:[t.jsxs(x,{children:["Email *",t.jsx(h,{type:"email",name:"email",placeholder:"Email"})]}),t.jsxs(x,{children:["Password *",t.jsx(h,{type:"password",name:"password",placeholder:"Password"})]}),t.jsx("button",{type:"submit",className:"border border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-white transition-colors p-2 rounded-sm font-medium text-sm",disabled:n,children:n?"Connexion en cours...":"Connexion"})]}),t.jsx(r,{className:"text-sm text-gray-500",to:"/forgot-password",children:"Mot de passe oubli√© ?"})]})]})},S=Object.freeze(Object.defineProperty({__proto__:null,component:j},Symbol.toStringTag,{value:"Module"}));export{j as component};
//# sourceMappingURL=login-D6TBmk3F.mjs.map
