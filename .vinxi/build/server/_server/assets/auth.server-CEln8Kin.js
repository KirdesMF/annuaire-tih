import{betterAuth as d}from"better-auth";import{drizzleAdapter as o}from"better-auth/adapters/drizzle";import{admin as l}from"better-auth/plugins";import{d as u}from"./index-8Htcofqc.js";import{pgTable as r,timestamp as t,text as e,boolean as s,varchar as a}from"drizzle-orm/pg-core";import{reactStartCookies as c}from"better-auth/react-start";const p=["admin","user","superadmin"],x=i=>i?p.includes(i):!1,n=r("user",{id:e("id").primaryKey(),name:a("first_name",{length:255}).notNull(),email:a("email",{length:255}).notNull().unique(),emailVerified:s("email_verified").notNull(),image:a("image",{length:255}),createdAt:t("created_at").notNull(),updatedAt:t("updated_at").notNull(),role:a("role",{length:255}).$type().default("user").notNull(),banned:s("banned"),banReason:e("ban_reason"),banExpires:t("ban_expires")}),m=r("session",{id:e("id").primaryKey(),expiresAt:t("expires_at").notNull(),token:e("token").notNull().unique(),createdAt:t("created_at").notNull(),updatedAt:t("updated_at").notNull(),ipAddress:e("ip_address"),userAgent:e("user_agent"),userId:e("user_id").notNull().references(()=>n.id,{onDelete:"cascade"}),impersonatedBy:e("impersonated_by")}),_=r("account",{id:e("id").primaryKey(),accountId:e("account_id").notNull(),providerId:e("provider_id").notNull(),userId:e("user_id").notNull().references(()=>n.id,{onDelete:"cascade"}),accessToken:e("access_token"),refreshToken:e("refresh_token"),idToken:e("id_token"),accessTokenExpiresAt:t("access_token_expires_at"),refreshTokenExpiresAt:t("refresh_token_expires_at"),scope:e("scope"),password:e("password"),createdAt:t("created_at").notNull(),updatedAt:t("updated_at").notNull()}),f=r("verification",{id:e("id").primaryKey(),identifier:e("identifier").notNull(),value:e("value").notNull(),expiresAt:t("expires_at").notNull(),createdAt:t("created_at"),updatedAt:t("updated_at")}),y=d({database:o(u,{provider:"pg",schema:{user:n,session:m,account:_,verification:f}}),session:{cookieCache:{enabled:!0,maxAge:5*60}},plugins:[l({adminRoles:["admin","superadmin"]}),c()],advanced:{generateId:!1},emailAndPassword:{enabled:!0}});export{y as a,x as i,n as u};
