import{c as e,g as r,f as o,U as t}from"../nitro/nitro.mjs";import{d as s,l as m}from"./index-8Htcofqc.mjs";import{_ as i}from"./companies-l5PKOmvG.mjs";import{E as a}from"./auth.server-DtTByMvE.mjs";import{w as n}from"./cloudinary-BTIR3bRv.mjs";import"node:net";import"node:stream";import"node:events";import"node:process";import"node:buffer";import"node:timers";import"node:async_hooks";import"node:url";import"node:stream/web";import"node:crypto";import"../_/main.mjs";import"../_/server.mjs";import"node:path";import"./auth-BsEI6_U5.mjs";import"../_/index.mjs";import"node:querystring";const d=s("app_lib_api_users_mutations_delete-user_ts--deleteUser_createServerFn_handler","/_server",((e,r)=>p.__executeServer(e,r))),p=e({method:"POST"}).validator((e=>e)).handler(d,(async({data:e})=>{const s=r();if(!s)throw new Error("Request not found");const d=await m.select().from(i).where(o(i.user_id,e.userId));for(const e of d)await n(e.slug);throw await a.api.deleteUser({body:{},headers:s.headers}),t({to:"/"})}));export{d as deleteUser_createServerFn_handler};
//# sourceMappingURL=delete-user-DlxFDiTi.mjs.map
