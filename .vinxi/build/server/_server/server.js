import{isRedirect as C,isNotFound as w}from"@tanstack/router-core";import U from"tiny-invariant";import{eventHandler as E,toWebRequest as M,getResponseStatus as T,getEvent as I}from"@tanstack/start-server-core";import{startSerializer as l}from"@tanstack/start-client-core";const q={"app_routes_root_tsx--getSession_createServerFn_handler":{functionName:"getSession_createServerFn_handler",importer:()=>import("./assets/__root-ujgkHv6g.js")},"app_routes_auth_signup_tsx--signupFn_createServerFn_handler":{functionName:"signupFn_createServerFn_handler",importer:()=>import("./assets/signup-BsQDPEzl.js")},"app_routes_auth_login_tsx--loginFn_createServerFn_handler":{functionName:"loginFn_createServerFn_handler",importer:()=>import("./assets/login-D3Q3sSsI.js")},"app_routes_auth_forgot-password_tsx--forgotPasswordFn_createServerFn_handler":{functionName:"forgotPasswordFn_createServerFn_handler",importer:()=>import("./assets/forgot-password-D05ZwbAZ.js")},"app_lib_api_categories_queries_get-categories_ts--getCategories_createServerFn_handler":{functionName:"getCategories_createServerFn_handler",importer:()=>import("./assets/get-categories-CBahqNRx.js")},"app_components_header_tsx--signOutFn_createServerFn_handler":{functionName:"signOutFn_createServerFn_handler",importer:()=>import("./assets/header-jBIKNJLd.js")},"app_routes_auth_reset-password_tsx--resetPasswordFn_createServerFn_handler":{functionName:"resetPasswordFn_createServerFn_handler",importer:()=>import("./assets/reset-password-Bb6wmPUa.js")},"app_lib_api_users_queries_get-users_ts--getUsers_createServerFn_handler":{functionName:"getUsers_createServerFn_handler",importer:()=>import("./assets/get-users-Dc_9ZVw6.js")},"app_lib_api_companies_queries_get-companies_ts--getCompanies_createServerFn_handler":{functionName:"getCompanies_createServerFn_handler",importer:()=>import("./assets/get-companies-BF9SYmmY.js")},"app_lib_api_users_queries_get-user-companies_ts--getUserCompanies_createServerFn_handler":{functionName:"getUserCompanies_createServerFn_handler",importer:()=>import("./assets/get-user-companies-bX9WWYSd.js")},"app_lib_api_companies_queries_get-company-by-slug_ts--getCompanyBySlug_createServerFn_handler":{functionName:"getCompanyBySlug_createServerFn_handler",importer:()=>import("./assets/get-company-by-slug-XRzyZGAU.js")},"app_lib_api_companies_queries_get-companies-by-category_ts--getCompaniesByCategory_createServerFn_handler":{functionName:"getCompaniesByCategory_createServerFn_handler",importer:()=>import("./assets/get-companies-by-category-CMgtBbd9.js")},"app_lib_api_companies_queries_get-companies-by-term_ts--getCompaniesByTerm_createServerFn_handler":{functionName:"getCompaniesByTerm_createServerFn_handler",importer:()=>import("./assets/get-companies-by-term-llWCQ-hi.js")},"app_lib_api_admin_mutations_update-user-role_ts--updateUserRoleFn_createServerFn_handler":{functionName:"updateUserRoleFn_createServerFn_handler",importer:()=>import("./assets/update-user-role-BsfbNVcb.js")},"app_lib_api_companies_mutations_update-company-status_ts--updateCompanyStatus_createServerFn_handler":{functionName:"updateCompanyStatus_createServerFn_handler",importer:()=>import("./assets/update-company-status-CkFNNRWB.js")},"app_lib_api_companies_mutations_delete-company_ts--deleteCompany_createServerFn_handler":{functionName:"deleteCompany_createServerFn_handler",importer:()=>import("./assets/delete-company-CzkGdBD6.js")},"app_lib_api_users_mutations_delete-user_ts--deleteUser_createServerFn_handler":{functionName:"deleteUser_createServerFn_handler",importer:()=>import("./assets/delete-user-DlxFDiTi.js")},"app_lib_api_users_mutations_update-user-email_ts--updateUserEmailFn_createServerFn_handler":{functionName:"updateUserEmailFn_createServerFn_handler",importer:()=>import("./assets/update-user-email-CQzGyIQu.js")},"app_lib_api_users_mutations_update-user-infos_ts--updateUserInfos_createServerFn_handler":{functionName:"updateUserInfos_createServerFn_handler",importer:()=>import("./assets/update-user-infos-BxSNbuI-.js")},"app_lib_api_users_mutations_update-user-password_ts--updateUserPasswordFn_createServerFn_handler":{functionName:"updateUserPasswordFn_createServerFn_handler",importer:()=>import("./assets/update-user-password-BKnM3cMY.js")},"app_lib_api_companies_mutations_create-company_ts--createCompany_createServerFn_handler":{functionName:"createCompany_createServerFn_handler",importer:()=>import("./assets/create-company-CP4w5uGh.js")},"app_lib_api_companies_mutations_delete-company-media_ts--deleteCompanyLogo_createServerFn_handler":{functionName:"deleteCompanyLogo_createServerFn_handler",importer:()=>import("./assets/delete-company-media-BL1E2LRZ.js")},"app_lib_api_companies_mutations_delete-company-media_ts--deleteCompanyMedia_createServerFn_handler":{functionName:"deleteCompanyMedia_createServerFn_handler",importer:()=>import("./assets/delete-company-media-BL1E2LRZ.js")},"app_lib_api_companies_mutations_update-company-medias_ts--updateCompanyMedia_createServerFn_handler":{functionName:"updateCompanyMedia_createServerFn_handler",importer:()=>import("./assets/update-company-medias-DHCiujpj.js")},"app_lib_api_companies_mutations_update-company-medias_ts--updateCompanyLogo_createServerFn_handler":{functionName:"updateCompanyLogo_createServerFn_handler",importer:()=>import("./assets/update-company-medias-DHCiujpj.js")},"app_lib_api_companies_mutations_update-company-medias_ts--updateCompanyGallery_createServerFn_handler":{functionName:"updateCompanyGallery_createServerFn_handler",importer:()=>import("./assets/update-company-medias-DHCiujpj.js")},"app_lib_api_companies_mutations_update-company-infos_ts--updateCompanyInfos_createServerFn_handler":{functionName:"updateCompanyInfos_createServerFn_handler",importer:()=>import("./assets/update-company-infos-DI6U0omT.js")}},G=E(L),d=q;async function L(r){const n=M(r);return await B({request:n,event:r})}function P(r){return r.replace(/^\/|\/$/g,"")}async function B({request:r,event:n}){const o=new AbortController,i=o.signal,F=()=>o.abort();n.node.req.on("close",F);const h=r.method,v=new URL(r.url,"http://localhost:3000"),b=new RegExp(`${P("/_server")}/([^/?#]+)`),S=v.pathname.match(b),a=S?S[1]:null,p=Object.fromEntries(v.searchParams.entries()),u="createServerFn"in p,R="raw"in p;if(typeof a!="string")throw new Error("Invalid server action param for serverFnId: "+a);const f=d[a];if(!f)throw console.log("serverFnManifest",d),new Error("Server function info not found for "+a);let _;if(_=await f.importer(),!_)throw console.log("serverFnManifest",d),new Error("Server function module not resolved for "+a);const s=_[f.functionName];if(!s)throw console.log("serverFnManifest",d),console.log("fnModule",_),new Error(`Server function module export not resolved for serverFn ID: ${a}`);const x=["multipart/form-data","application/x-www-form-urlencoded"],c=await(async()=>{try{let e=await(async()=>{if(r.headers.get("Content-Type")&&x.some(t=>{var y;return(y=r.headers.get("Content-Type"))==null?void 0:y.includes(t)}))return U(h.toLowerCase()!=="get","GET requests with FormData payloads are not supported"),await s(await r.formData(),i);if(h.toLowerCase()==="get"){let t=p;return u&&(t=p.payload),t=t&&l.parse(t),await s(t,i)}const m=await r.text(),g=l.parse(m);return u?await s(g,i):await s(...g,i)})();return e.result instanceof Response?e.result:!u&&(e=e.result,e instanceof Response)?e:C(e)||w(e)?N(e):new Response(e!==void 0?l.stringify(e):void 0,{status:T(I()),headers:{"Content-Type":"application/json"}})}catch(e){return e instanceof Response?e:C(e)||w(e)?N(e):(console.info(),console.info("Server Fn Error!"),console.info(),console.error(e),console.info(),new Response(l.stringify(e),{status:500,headers:{"Content-Type":"application/json"}}))}})();if(n.node.req.removeListener("close",F),R)return c;if(c.headers.get("Content-Type")==="application/json"){const m=await c.clone().text();m&&JSON.stringify(JSON.parse(m))}return c}function N(r){const{headers:n,...o}=r;return new Response(JSON.stringify(o),{status:200,headers:{"Content-Type":"application/json",...n||{}}})}export{G as default};
