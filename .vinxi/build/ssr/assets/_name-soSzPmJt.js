import{jsxs as s,jsx as e}from"react/jsx-runtime";import{Link as d}from"@tanstack/react-router";import{R as n,a as m,L as p}from"./ssr-B2yzgCJC.js";import{useSuspenseQuery as h}from"@tanstack/react-query";import{toast as x}from"sonner";import{C as g}from"./company-logo-DcDO8tdb.js";import{E as u,P as f,G as N,C as y,I as b,F as v}from"./globe-BUymkEPS.js";import{Separator as w}from"radix-ui";import"better-auth/react";import"better-auth/client/plugins";import"react";import"drizzle-orm/pg-core";import"@tanstack/react-query-devtools";import"@tanstack/router-core";import"@tanstack/start-client-core";import"@tanstack/start-server-core";import"valibot";import"drizzle-orm";import"decode-formdata";import"@tanstack/react-router-with-query";import"tiny-invariant";import"node:stream";import"isbot";import"react-dom/server";import"./cn-bhneXptQ.js";import"clsx";import"tailwind-merge";function C(t){return s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...t,children:[e("title",{children:"Copy"}),e("path",{fill:"currentColor",d:"M9.116 17q-.691 0-1.153-.462T7.5 15.385V4.615q0-.69.463-1.153T9.116 3h7.769q.69 0 1.153.462t.462 1.153v10.77q0 .69-.462 1.152T16.884 17zm0-1h7.769q.23 0 .423-.192t.192-.423V4.615q0-.23-.192-.423T16.884 4H9.116q-.231 0-.424.192t-.192.423v10.77q0 .23.192.423t.423.192m-3 4q-.69 0-1.153-.462T4.5 18.385V7.115q0-.213.143-.356T5 6.616t.357.143t.143.357v11.269q0 .23.192.423t.423.192h8.27q.213 0 .356.143t.143.357t-.143.357t-.357.143zM8.5 16V4z"})]})}function q({children:t,...i}){function r(){typeof t=="string"&&navigator.clipboard.writeText(t),x.success("Copié dans le presse-papiers")}return s("button",{type:"button",className:"text-xs px-2 py-1 rounded-sm border border-gray-300 text-gray-500 flex items-center gap-1.5 cursor-pointer",onClick:r,...i,children:[t,e(C,{className:"size-4"})]})}function I(t){return s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...t,children:[e("title",{children:"Link chain"}),s("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",children:[e("path",{d:"M13.544 10.456a4.37 4.37 0 0 0-6.176 0l-3.089 3.088a4.367 4.367 0 1 0 6.177 6.177L12 18.177"}),e("path",{d:"M10.456 13.544a4.37 4.37 0 0 0 6.176 0l3.089-3.088a4.367 4.367 0 1 0-6.177-6.177L12 5.823"})]})]})}const k={remote:"À distance",hybrid:"Hybride",onsite:"Sur site",not_specified:"Non spécifié"},z={facebook:e(v,{className:"size-5"}),instagram:e(b,{className:"size-5"}),linkedin:e(p,{className:"size-5"}),calendly:e(y,{className:"size-5"})},re=function(){const i=n.useSearch(),{data:r}=h(m(i.id)),{session:o}=n.useLoaderData();if(!r)return e("div",{children:"Company not found"});const l=Object.values(r.social_media).every(a=>a==="");return s("main",{className:"px-4 py-8 grid gap-4",children:[s("div",{className:"container flex justify-between gap-4 border border-gray-300 p-6 rounded-sm",children:[s("div",{className:"flex flex-col gap-2",children:[e(g,{company:r,size:"lg"}),s("div",{className:"flex items-center gap-2",children:[e("h1",{className:"text-2xl font-bold",children:r.name}),e(q,{children:r.siret}),o?.user?.id===r.user_id&&e(d,{to:"/compte/entreprises/$id/edit",params:{id:r.id},className:"border border-gray-300 px-2 py-1 rounded-sm text-xs h-min",children:"Edit"})]}),e("ul",{className:"flex flex-wrap gap-2",children:r.categories?.map(a=>e("li",{className:"bg-gray-100 px-2 py-1 rounded-sm text-xs",children:a},a))})]}),e("div",{className:"flex gap-2",children:e("button",{type:"button",className:"bg-gray-100 p-2 rounded-sm cursor-pointer h-min",children:e(I,{className:"size-5"})})})]}),s("div",{className:"container flex gap-2",children:[s("div",{className:"flex-1 flex flex-col justify-center gap-4 border border-gray-300 p-6 rounded-sm",children:[s("div",{className:"flex flex-col gap-2",children:[r.email?s("div",{className:"flex items-center gap-2",children:[e(u,{className:"size-5"}),e("p",{className:"text-xs text-gray-500",children:r.email})]}):null,r.phone?s("div",{className:"flex items-center gap-2",children:[e(f,{className:"size-5"}),e("p",{className:"text-xs text-gray-500",children:r.phone})]}):null,r.website?s("div",{className:"flex items-center gap-2",children:[e(N,{className:"size-5"}),e("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-500",children:r.website})]}):null]}),l?null:e("ul",{className:"flex gap-2",children:Object.entries(r.social_media||{}).map(([a,c])=>e("li",{children:e("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:z[a]})},a))})]}),s("div",{className:"flex-1 border border-gray-300 p-6 rounded-sm flex flex-col gap-2",children:[s("p",{className:"text-sm text-gray-500",children:[e("span",{className:"font-bold",children:"Entrepreneur:"})," ",r.business_owner]}),s("p",{className:"text-sm text-gray-500",children:[e("span",{className:"font-bold",children:"Zone géographique:"})," ",r.service_area]}),s("p",{className:"text-sm text-gray-500",children:[e("span",{className:"font-bold",children:"Mode de travail:"})," ",k[r.work_mode??"not_specified"]]}),s("p",{className:"text-sm text-gray-500",children:[e("span",{className:"font-bold",children:"RQTH:"})," ",r.rqth?"Oui":"Non"]}),s("p",{className:"text-sm text-gray-500",children:[e("span",{className:"font-bold",children:"Sous domaine:"})," ",r.subdomain]})]})]}),s("div",{className:"container border border-gray-300 p-6 rounded-sm grid gap-4",children:[s("div",{className:"flex flex-col gap-2",children:[e("h2",{className:"text-lg font-bold",children:"Description"}),e("p",{className:"text-sm text-gray-500 text-pretty",children:r.description})]}),e(w.Root,{className:"h-px bg-gray-300 my-4"}),e("ul",{className:"flex flex-wrap gap-2",children:r.gallery?.map(a=>e("li",{children:e("img",{src:a.secureUrl,alt:r.name,className:"size-16 aspect-square rounded-sm"})},a.publicId))})]})]})};export{re as component};
