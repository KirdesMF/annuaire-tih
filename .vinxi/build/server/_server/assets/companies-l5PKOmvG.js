import{pgTable as i,jsonb as n,boolean as s,varchar as e,text as o,timestamp as a,index as r}from"drizzle-orm/pg-core";import{sql as d}from"drizzle-orm";import{u as l}from"./auth-BsEI6_U5.js";import{nanoid as u}from"nanoid";const _=i("companies",{id:o("id").primaryKey().$defaultFn(()=>u(32)),status:e("status").$type().notNull().default("pending"),created_at:a("created_at").notNull().defaultNow(),updated_at:a("updated_at").notNull().defaultNow(),created_by:o("created_by").references(()=>l.id,{onDelete:"cascade"}).notNull(),user_id:o("user_id").references(()=>l.id,{onDelete:"cascade"}).notNull(),name:e("name",{length:255}).notNull(),slug:e("slug",{length:100}).notNull().unique(),siret:e("siret",{length:14}).notNull(),business_owner:e("business_owner",{length:255}),description:e("description",{length:1500}),website:e("website",{length:255}),location:e("location",{length:255}),service_area:e("service_area",{length:255}),subdomain:e("subdomain",{length:100}),work_mode:e("work_mode").$type(),email:e("email",{length:255}),phone:e("phone",{length:24}),rqth:s("rqth").notNull().default(!1),logo:n("logo").$type(),gallery:n("gallery").$type().notNull().default([]),social_media:n("social_media").$type().notNull().default({facebook:"",calendly:"",linkedin:"",instagram:""})},t=>[r("company_search_index").using("gin",d`to_tsvector('french', ${t.name} || ' ' || ${t.subdomain} || ' ' || ${t.description})`)]),h=["pending","active","rejected"],f=["remote","hybrid","onsite","not_specified"];export{h as C,f as a,_ as c};
