import{d as e,l as o}from"./index-8Htcofqc.mjs";import{_ as r,h as t}from"./companies-l5PKOmvG.mjs";import{c as a,N as s,f as m,e as i,V as n,a4 as p,a0 as c}from"../nitro/nitro.mjs";import{d}from"./company-categories-CgBd9Wjc.mjs";import"../_/main.mjs";import"node:events";import"node:buffer";import"node:stream";import"../_/server.mjs";import"node:path";import"./auth-BsEI6_U5.mjs";import"node:net";import"node:process";import"node:timers";import"node:async_hooks";import"node:url";import"node:stream/web";import"node:crypto";import"./categories-B1A9pQfz.mjs";const _=n({categoryId:c(),status:p(t)}),y=e("app_lib_api_companies_queries_get-companies-by-category_ts--getCompaniesByCategory_createServerFn_handler","/_server",((e,o)=>g.__executeServer(e,o))),g=a({method:"GET"}).validator((e=>s(_,e))).handler(y,(async({data:{categoryId:e,status:t="active"}})=>{const a=await o.select().from(r).innerJoin(d,m(r.id,d.company_id)).where(i(m(d.category_id,e),m(r.status,t)));return{companies:a.map((e=>e.companies)),categories:a.map((e=>e.company_categories))}}));export{y as getCompaniesByCategory_createServerFn_handler};
//# sourceMappingURL=get-companies-by-category-CMgtBbd9.mjs.map
