import*as r from"valibot";import{a}from"./auth.server-DtTByMvE.js";import{c as m}from"./index-8Htcofqc.js";import{createServerFn as i}from"@tanstack/start-client-core";import{getWebRequest as o}from"@tanstack/start-server-core";import"better-auth";import"better-auth/adapters/drizzle";import"better-auth/plugins";import"./auth-BsEI6_U5.js";import"drizzle-orm/pg-core";import"better-auth/react-start";import"resend";import"tiny-invariant";import"drizzle-orm/postgres-js";import"postgres";import"dotenv";const p=r.object({email:r.string()}),s=m("app_lib_api_users_mutations_update-user-email_ts--updateUserEmailFn_createServerFn_handler","/_server",(e,t)=>n.__executeServer(e,t)),n=i({method:"POST"}).validator(e=>r.parse(p,{email:e.get("email")})).handler(s,async({data:e})=>{await a.api.changeEmail({body:{newEmail:e.email},headers:o()?.headers})});export{s as updateUserEmailFn_createServerFn_handler};
